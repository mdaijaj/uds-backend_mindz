<div class="section">
  <div class="row head">
    <p routerLink="../">Asset Management / Update Email Creation Request</p>
  </div>
  <router-outlet></router-outlet>
</div>

<div class="section">
  <div>
    <mat-card>
      <div class="row form_head">
        <h3>Update Email Creation Request</h3>
      </div>
      <div class="form_basic">
        <form class="form_set" [formGroup]="EmailRequestUpdateForm">
          <div class="row">
            <div class="col-xxl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <mat-form-field appearance="outline" readonly>
                  <mat-label>Employee Name</mat-label>
                  <input matInput type="text" formControlName="first_name" />
                </mat-form-field>
              </div>
            </div>

            <div class="col-xxl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <mat-form-field appearance="outline">
                  <mat-label>Employee Role </mat-label>
                  <input matInput type="text" formControlName="role" />
                </mat-form-field>
              </div>
            </div>
            <div class="col-xxl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <mat-form-field appearance="outline">
                  <mat-label>Employee Job Type</mat-label>
                  <input matInput type="text" formControlName="type_of_employee"/>
                </mat-form-field>
              </div>
            </div>
            <div class="col-xxl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <mat-form-field appearance="outline">
                  <mat-label>Official Mail ID </mat-label>
                  <input matInput type="text" formControlName="email_id" />
                </mat-form-field>
              </div>
            </div>
            <div class="col-xxl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <mat-form-field appearance="outline">
                  <mat-label>Personal Mail ID </mat-label>
                  <input matInput type="text" formControlName="personal_mail_id" />
                </mat-form-field>
              </div>
            </div>
          </div>

          <div class="col-xxl-12 col-lg-12 col-md-12 col-sm-12 col-12">
            <div
              class="form-group"
              style="display: flex; flex-flow: row; align-items: center"
            >
              <div class="main-heading" style="font-weight: bold">
                Assign asset request from HR :
              </div>
              <mat-radio-group
                name="Duration"
                color="primary"
                formControlName="assign_asset_request_from__hr"
                (change)="onChange($event)"
              >
                <mat-radio-button style="padding-left: 5px" value="yes"
                  >Yes</mat-radio-button
                >
                <mat-radio-button style="padding-left: 5px" value="no"
                  >No</mat-radio-button
                >
              </mat-radio-group>
            </div>
          </div>

          <div align="end" *ngIf="asset_detail">
            <div class="form-group">
                    <span style="cursor: pointer; font-size: 25px; color: #063178;"><i class="fa fa-plus-circle" aria-hidden="true" (click)="addAssetRow()"></i></span>
            </div>
          </div>
          <ng-container  formArrayName="asset" *ngFor="let control of CF_1.asset['controls']; index as i">
          <div class="row" [formGroup]="control" *ngIf="asset_detail">


            <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
              <div class="form-group">
                <mat-form-field appearance="outline">
                  <mat-label>Asset Category</mat-label>
                  <!-- <mat-select formControlName="assest_cat" (selectionChange)="selectAssetCat($event, control)">
                    <mat-option [value]="asset.product_id"
                      *ngFor="let asset of asetMasterdata">{{asset.asset_ID}}</mat-option>
                  </mat-select> -->
                  <input matInput type="text" formControlName="assest_cat"  readonly/>
                </mat-form-field>
              </div>
            </div>

            <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
              <div class="form-group">
                <mat-form-field appearance="outline">
                  <mat-label>Asset ID</mat-label>
                  <mat-select formControlName="asset_id" (selectionChange)="selectAssetCat($event, control)">
                    <mat-option [value]="asset.product_id"
                      *ngFor="let asset of asetMasterdata">{{asset.asset_ID}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>

            <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
              <div class="form-group">
                <mat-form-field appearance="outline">
                  <mat-label>Asset Details</mat-label>
                  <input matInput type="text" formControlName="asset_details"  readonly/>
                </mat-form-field>
              </div>
            </div>
            <div class="col-xxl-1 col-lg-1 col-md-1 col-sm-1 col-12">
              <div class="form-group" style="
              text-align: center;
              color: #063178;
              cursor: pointer;
            ">
                <i class="material-icons" (click)="deleteTableRows(i, control)">delete</i>    
              </div>
            </div>
          </div>
          </ng-container>

          <div align="end" *ngIf="asset_detail">
            <div class="form-group">
                    <span style="cursor: pointer; font-size: 25px; color: #063178;"><i class="fa fa-plus-circle" (click)="addAccessoriesRow()"  aria-hidden="true"></i></span>
            </div>
          </div>
            <ng-container formArrayName="accessorie" *ngFor="let control of CF_1.accessorie['controls']; index as i">
          <div class="row" [formGroup]="control" *ngIf="asset_detail">
            <div class="col-xxl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Asset ID</mat-label>
                    <mat-select formControlName="accessories_asset_id" (selectionChange)="selectAssoserise($event, control)">
                      <mat-option [value]="asset.product_id"
                        *ngFor="let asset of asetMasterdata">{{asset.asset_ID}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>

            <div class="col-xxl-5 col-lg-5 col-md-5 col-sm-5 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Accessories </mat-label>
                    <input matInput type="text" formControlName="accessories_details"  readonly/>
                  </mat-form-field>
                </div>
              </div>

              <div class="col-xxl-1 col-lg-1 col-md-1 col-sm-1 col-12">
                <div class="form-group" style="
                text-align: center;
                color: #063178;
                cursor: pointer;
              ">
                  <i class="material-icons" (click)="deleteAccessTableRows(i, control)">delete</i>    
                </div>
              </div>

          </div>
          </ng-container>
          <div class="mt-3" align="end">
            <button mat-raised-button color="primary" class="mx-3"
            (click)="onSubmit()"
            >
              Submit
            </button>
            <button mat-raised-button color="warn" routerLink="/master/assest-management/assest-management-sub/email-creation-list">Cancel</button>
          </div>
        </form>
      </div>
    </mat-card>
  </div>
</div>
