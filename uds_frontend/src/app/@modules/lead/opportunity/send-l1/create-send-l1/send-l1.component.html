<mat-card>
  <div class="section">
    <div class="main">
      <div class="employee"></div>
      <div class="msater-nav">
        <a href="">Opportunity<mat-icon>keyboard_arrow_right</mat-icon></a>
        <a routerLink="../">Send Opportunity For L1 Approval</a>
      </div>
      <div class="updatetitle">{{leadUpdate==='updatesendL1'? 'Update Send Opportunity For L1 Approval':'Send Opportunity For L1 Approval'}}</div>
      <div class="apply-btn">
        <!-- <a routerLink="../interview-status-list">List</a> -->
      </div>
      <form class="form_set" [formGroup]="leadForm">
        <section class="job-nav">
          <div class="section">
            <mat-card>
              <div class="row form_head">
                <h3>Send Opportunity For L1 Approval</h3>
              </div>

              <div class="form_basic">
                Customer Type
                <input formControlName="customer_type" (click)="customerTypeNew()" checked="checked" type="radio"
                  name="customer_type" value="New User" id="red" style="margin: 0 5px 0 4%" />New
                <input formControlName="customer_type" (click)="customerType()" type="radio" name="customer_type"
                  value="Existing User" id="blue" style="margin: 0 5px 4% 4%" />Existing Customer
                <span style="margin-left: 10%">Multiple Site Audit</span>
                <input formControlName="site_audit" (click)="siteAuditNew()" checked="checked" type="radio"
                  name="site_audit" value="Yes" id="red" style="margin: 0 5px 0 4%" />Yes
                <input formControlName="site_audit" (click)="siteAudit()" type="radio" name="site_audit" value="No"
                  id="blue" style="margin: 0 5px 4% 4%" />No

                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group" *ngIf="cutomerType">
                      <p>Associated Company</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <mat-select formControlName="associated_company">
                          <mat-option value="Elite Mindz Technology">Elite Mindz Technology</mat-option>
                          <mat-option value="DQS Pvt Ltd">DQS Pvt Ltd</mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="form-group" *ngIf="!cutomerType">
                      <p>Associated Company</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <input   tabindex="-1"  matInput type="text" formControlName="associated_company" />
                        <mat-error *ngIf="
                            leadForm.controls['associated_company'].hasError(
                              'required'
                            )
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Segment</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <!-- <mat-label>Candidate Name</mat-label> -->
                        <!-- <mat-select formControlName="segment">
                          <mat-option value="MSA">MSA</mat-option>
                          <mat-option value="MED">MED</mat-option>
                        </mat-select> -->
                        <mat-select formControlName="segment">
                          <mat-option [disabled]="true"
                          *ngFor="let item of segmentList"
                          [value]="item.segment_id"
                          >{{ item.segment_name }}</mat-option>
                       </mat-select>
                        <mat-error *ngIf="
                            leadForm.controls['segment'].hasError('required')
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Certificate Type</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <!-- <mat-label>Candidate Name</mat-label> -->
                        <!-- <mat-select formControlName="certificate_type">
                          <mat-option value="Cert">Cert</mat-option>
                          <mat-option value="Non Cert">Non Cert</mat-option>
                        </mat-select> -->
                        <mat-select formControlName="certificate_type">
                          <mat-option
                          *ngFor="let item of certificateList"
                          [value]="item.certificate_type_id"
                          >{{ item.certificate_type_name }}</mat-option>

                        </mat-select>
                        <mat-error *ngIf="
                            leadForm.controls['certificate_type'].hasError(
                              'required'
                            )
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                </div>

                <div class="row" *ngIf="cutomerType">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>BR No.</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <!-- <mat-label>Candidate Name</mat-label> -->
                        <input tabindex="-1"  matInput type="text" formControlName="br_number" />
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12"></div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12"></div>
                </div>

                <div class="row" *ngIf="cutomerType">
                  <div class="col-xxl-8 col-lg-8 col-md-8 col-sm-8 col-12">
                    <div class="form-group">
                      Do you want to Create New Location/Site -
                      {{ this.singleLeadData.br_number }}
                      <input formControlName="br_number" checked="checked" type="radio" name="br_number" value="yes"
                        id="red" style="margin: 0 5px 0 4%" />Yes
                      <input formControlName="br_number" type="radio" name="br_number" value="no" id="blue"
                        style="margin: 0 5px 4% 4%" />No
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>First Name</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <!-- <mat-label>Candidate Name</mat-label> -->
                        <input  tabindex="-1"  matInput type="text" formControlName="first_name" />
                        <mat-error *ngIf="
                            leadForm.controls['first_name'].hasError('required')
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Last Name</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <!-- <mat-label>Email ID</mat-label> -->
                        <input  tabindex="-1"  matInput type="text" formControlName="last_name" />
                        <mat-error *ngIf="
                            leadForm.controls['last_name'].hasError('required')
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Email ID</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <!-- <mat-label>Mobile Number</mat-label> -->
                        <input  tabindex="-1"  matInput type="email" formControlName="email" />
                        <mat-error *ngIf="
                            leadForm.controls['email'].hasError('required')
                          ">
                          This field is required!
                        </mat-error>
                        <mat-error *ngIf="leadForm.controls['email'].errors?.['pattern']">Please enter valid
                          email</mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Job Title</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <!-- <mat-label>Job Title</mat-label> -->
                        <input  tabindex="-1"  matInput type="text" formControlName="job_title" />
                        <mat-error *ngIf="
                            leadForm.controls['job_title'].hasError('required')
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Street Address</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <!-- <mat-label>Job Role</mat-label> -->
                        <input tabindex="-1"  matInput type="text" formControlName="street_address" />
                        <mat-error *ngIf="
                            leadForm.controls['street_address'].hasError(
                              'required'
                            )
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Address Line 2</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <!-- <mat-label>Application Date</mat-label> -->
                        <input tabindex="-1"  matInput type="text" formControlName="address2" />
                        <mat-error *ngIf="
                            leadForm.controls['address2'].hasError('required')
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Country&nbsp;<span class="form_required">*</span></p>
                      <mat-form-field appearance="outline" readonly>
                        <!-- <mat-label>Candidate Name</mat-label> -->
                        <mat-select formControlName="country" (selectionChange)="getCountryID($event)">
                          <mat-option [disabled]="true"
                            *ngFor="let item of countryList"
                            [value]="item.countryss_id"
                            >{{ item.countryss_name }}</mat-option>
                          <!-- <mat-option value="India">India</mat-option>
                          <mat-option value="USA">USA</mat-option> -->
                        </mat-select>
                        <mat-error
                          *ngIf="
                            leadForm.controls['country'].hasError('required')
                          "
                        >
                         Required*
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>State&nbsp;<span class="form_required">*</span></p>
                      <mat-form-field appearance="outline">
                        <!-- <mat-label>Candidate Name</mat-label> -->
                        <mat-select formControlName="state" (selectionChange)="getStateID($event)">
                          <mat-option [disabled]="true"
                            *ngFor="let item of stateList"
                            [value]="item.states_id"
                            >{{ item.states_name }}</mat-option>
                          <!-- <mat-option value="Delhi">Delhi</mat-option>
                          <mat-option value="Maharastra">Maharastra</mat-option> -->
                        </mat-select>
                        <mat-error
                          *ngIf="
                            leadForm.controls['state'].hasError('required')
                          "
                        >
                         Required*
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>City&nbsp;<span class="form_required">*</span></p>
                      <mat-form-field appearance="outline" readonly>
                        <!-- <mat-label>Candidate Name</mat-label> -->
                        <mat-select formControlName="city" >
                          <mat-option [disabled]="true"
                            *ngFor="let item of cityList"
                            [value]="item.city_id"
                            >{{ item.city_name }}</mat-option>
                          <!-- <mat-option value="New Delhi">New Delhi</mat-option>
                          <mat-option value="Mumbai">Mumbai</mat-option> -->
                        </mat-select>
                        <mat-error
                          *ngIf="leadForm.controls['city'].hasError('required')"
                        >
                         Required*
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <!-- <div class="form-group" *ngIf="!pinCodeTrue">
                      <p>Postal Code</p>
                      <mat-form-field appearance="outline">
                        <mat-select formControlName="postal_code">
                          <mat-option
                            *ngFor="let item of pinCodeList"
                            [value]="item.pincode_id"
                            >{{ item.pincode_name }}</mat-option>
                        </mat-select>
                        <mat-error
                          *ngIf="
                            leadForm.controls['postal_code'].hasError(
                              'pattern'
                            )
                          "
                        >
                         Postal Code must be 6 digit*
                        </mat-error>
                      </mat-form-field>
                    </div> -->
                    <div class="form-group">
                      <p>Postal Code</p>
                      <mat-form-field appearance="outline">
                        <input tabindex="-1"
                          matInput
                          type="text"
                          formControlName="postal_code"
                        />
                        <mat-error
                          *ngIf="
                            leadForm.controls['postal_code'].hasError(
                              'pattern'
                            )
                          "
                        >
                         Postal Code must be 5-6 digits..*
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Region&nbsp;<span class="form_required">*</span></p>
                      <mat-form-field appearance="outline" readonly>
                        <!-- <mat-label>Candidate Name</mat-label> -->
                        <mat-select formControlName="region">
                          <mat-option [disabled]="true"
                              *ngFor="let item of regionSList"
                              [value]="item.new_region_id"
                              >{{ item.new_region_name }}</mat-option>
                        </mat-select>
                        <mat-error
                          *ngIf="
                            leadForm.controls['region'].hasError('required')
                          "
                        >
                         Required*
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Regional Business Head&nbsp;<span class="form_required">*</span></p>
                      <mat-form-field appearance="outline" readonly>
                        <!-- <mat-label>Candidate Name</mat-label> -->
                        <mat-select formControlName="regional_bussiness_lead">
                          <mat-option [disabled]="true"
                          *ngFor="let item of regionalbheadList"
                          [value]="item.new_regional_business_head_id"
                          >{{ item.first_name }}</mat-option
                        >
                        </mat-select>
                        <mat-error
                          *ngIf="
                            leadForm.controls[
                              'regional_bussiness_lead'
                            ].hasError('required')
                          "
                        >
                         Required*
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Global Managing Director</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <!-- <mat-label>Department</mat-label> -->
                        <input tabindex="-1"  matInput type="text" formControlName="global_managing_director" />
                        <mat-error *ngIf="
                            leadForm.controls[
                              'global_managing_director'
                            ].hasError('required')
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Global Manager Sales&nbsp;<span class="form_required">*</span></p>
                      <mat-form-field appearance="outline" readonly>
                        <!-- <mat-label>Candidate Name</mat-label> -->
                        <mat-select formControlName="global_manager_sales">
                          <mat-option
                          *ngFor="let item of globalMsalesList"
                          [value]="item.new_global_manager_sales_id"
                          >{{ item.first_name }}</mat-option>
                        </mat-select>
                        <mat-error
                          *ngIf="
                            leadForm.controls['global_manager_sales'].hasError(
                              'required'
                            )
                          "
                        >
                         Required*
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Website URL</p>
                      <mat-form-field appearance="outline" readonly [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <!-- <mat-label>Candidate Name</mat-label> -->
                        <input tabindex="-1"  matInput type="text" formControlName="website_url" />
                      </mat-form-field>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-xxl-2 col-lg-2 col-md-2 col-sm-2 col-12">
                    <div class="form-group">
                      <p>Code</p>
                      <mat-form-field appearance="outline">
                        <input matInput type="number" min="1" tabindex="-1"  formControlName="phone_code" />
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Telephone Number</p>
                      <mat-form-field
                        appearance="outline"
                        [ngClass]="
                          leadUpdate === 'sendL1' ? 'readonly-wrapper' : ''
                        "
                      >
                        <!-- <mat-label>Department</mat-label> -->
                        <input
                          matInput
                          type="text"
                          formControlName="phone_number"
                        />
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-1 col-lg-1 col-md-1 col-sm-1 col-12">
                    <div class="form-group">
                      <p>Code</p>
                      <mat-form-field appearance="outline">
                        <input matInput type="text" min="1" tabindex="-1" readonly formControlName="mobile_code" />
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Mobile Number</p>
                      <mat-form-field
                        appearance="outline"
                        [ngClass]="
                          leadUpdate === 'sendL1' ? 'readonly-wrapper' : ''
                        "
                      >
                        <!-- <mat-label>Candidate Name</mat-label> -->
                        <input
                          matInput
                          type="text"
                          formControlName="mobile_number"
                        />
                        <mat-error
                          *ngIf="
                            leadForm.controls['mobile_number'].hasError(
                              'required'
                            )
                          "
                        >
                          This field is required!
                        </mat-error>
                        <mat-error
                          *ngIf="  leadForm.controls['mobile_number'].errors?.['pattern']"
                          >Mobile number is not 10 digit</mat-error
                        >
                      </mat-form-field>
                    </div>
                  </div>
                  <div
                    class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12"
                  ></div>
                </div>
              </div>
            </mat-card>
          </div>
        </section>

        <section class="job-nav" *ngIf="singleLeadData?.create_prospect == 'false'">
          <div class="section">
            <mat-card>
              <div class="row form_head">
                <h3>Lead Source Details</h3>
              </div>

              <div class="form_basic">
                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>DQS Contact Source</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                       <mat-select formControlName="dqs_contact_source">
                          <mat-option  [disabled]="true" [value]="data.contact_source_id" *ngFor="let data of contact_list">{{data.contact_source_name}}</mat-option
                          >
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Lead Created By</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <input tabindex="-1"  matInput type="text" formControlName="lead_created_by_name" />
                        <mat-error *ngIf="
                            leadForm.controls['lead_created_by_name'].hasError(
                              'required'
                            )
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group" class="readonly-wrapper">
                      <p>Lead Created Date</p>
                      <mat-form-field appearance="outline" >
                        <input matInput readonly [matDatepicker]="dp" (click)="dp.open()"
                          formControlName="lead_created_date"/>

                        <mat-datepicker-toggle class="readonly-wrapper" matSuffix  [for]="dp"></mat-datepicker-toggle>
                        <mat-datepicker #dp></mat-datepicker>
                        <mat-error *ngIf="
                            leadForm.controls['lead_created_date'].hasError(
                              'required'
                            )
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
              </div>
            </mat-card>
          </div>
        </section>

        <section class="job-nav">
          <div class="section">
            <mat-card>
              <div class="row form_head">
                <h3>Requirement Details</h3>
              </div>

              <div class="form_basic">
                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12" *ngIf="!medvalue">
                    <div class="form-group">
                      <p>Categories</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <mat-select formControlName="categories">
                          <mat-option [disabled]="true"
                          *ngFor="let item of CategorySList"
                          [value]="item.new_category_master_id"
                          >{{ item.new_category_master_name }}</mat-option
                    >
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Standard/Program/Assessment</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <!-- <mat-label>Candidate Name</mat-label> -->
                        <!-- <input matInput type="text" formControlName="standard_program_assement" /> -->
                        <mat-select formControlName="standard_program_assement">
                          <mat-option [disabled]="true"
                            *ngFor="let item of assesmentList"
                            [value]="item.product_master_id"
                            >{{ item.product_master_name }}</mat-option>
                         </mat-select>
                         
                        <mat-error *ngIf="
                            leadForm.controls[
                              'standard_program_assement'
                            ].hasError('required')
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Remarks</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <input tabindex="-1"  matInput type="text" formControlName="remarks" />
                      </mat-form-field>
                    </div>
                  </div>
                </div>
              </div>
            </mat-card>
          </div>
        </section>

        <section class="job-nav" *ngIf="singleLeadData?.create_prospect == 'false'">
          <div class="section">
            <mat-card>
              <div class="row form_head">
                <h3>Lead Validation</h3>
              </div>

              <div class="form_basic">
                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Remarks</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <input tabindex="-1"  matInput type="text" formControlName="lead_validate_remarks" />
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Validated By test</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <mat-select formControlName="validated_by">
                          <mat-option [disabled]="true" *ngFor="let item of allAchievement" [value]="item.first_name">{{ item.first_name
                            }}</mat-option>
                        </mat-select>
                        <mat-error *ngIf="
                            leadForm.controls['validated_by'].hasError(
                              'required'
                            )
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group" class="readonly-wrapper">
                      <p>Lead Validated Date</p>
                      <mat-form-field appearance="outline" >
                        <input matInput readonly [matDatepicker]="dp2" (click)="dp2.open()"
                          formControlName="lead_validated_date"/>

                        <mat-datepicker-toggle class="readonly-wrapper" matSuffix [for]="dp2" ></mat-datepicker-toggle>
                        <mat-datepicker #dp2></mat-datepicker>
                        <mat-error *ngIf="
                            leadForm.controls['lead_validated_date'].hasError(
                              'required'
                            )
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
              </div>
            </mat-card>
          </div>
        </section>

        <section class="job-nav">
          <div class="section">
            <mat-card>
              <div class="row form_head">
                <h3>Company Additional Details</h3>
              </div>

              <div class="form_basic">
                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Industry Sector</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <input tabindex="-1"  matInput type="text" formControlName="industry_sector" />
                        <mat-error *ngIf="
                            leadForm.controls['industry_sector'].hasError(
                              'required'
                            )
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Customer Category</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <!-- <mat-label>Candidate Name</mat-label> -->
                        <mat-select formControlName="customer_category">
                          <mat-option  [disabled]="true" value="Pvt Ltd">Pvt Ltd</mat-option>
                          <mat-option [disabled]="true" value="Public Ltd">Public Ltd</mat-option>
                        </mat-select>
                        <mat-error *ngIf="
                            leadForm.controls['customer_category'].hasError(
                              'required'
                            )
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12" *ngIf="nonCertTrue">
                    <div class="form-group">
                      <p>Employee Count</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <input tabindex="-1"  matInput min="1" type="number"
                          formControlName="employee_count" />
                      </mat-form-field>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Customer Sales Executive</p>
                      <mat-form-field appearance="outline">
                        <input tabindex="-1"  matInput type="text" formControlName="customer_sales_executive" />
                        <mat-error *ngIf="
                            leadForm.controls[
                              'customer_sales_executive'
                            ].hasError('required')
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Assign Opportunity to</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <mat-select formControlName="assigned_to" required>
                          <mat-option   value="CMT-Connect MED">CMT-Connect MED</mat-option>
                          <mat-option  value="CMT-Connect MSA">CMT-Connect MSA</mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>

                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group" *ngIf="nonCertt">
                      <p>Non-Cert Type</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <!-- <mat-label>Candidate Name</mat-label> -->
                        <mat-select formControlName="non_cert_type">
                          <mat-option  [disabled]="true" value="Open House">Open House</mat-option>
                          <mat-option [disabled]="true" value="In House">In House</mat-option>
                        </mat-select>
                        <mat-error *ngIf="
                            leadForm.controls['non_cert_type'].hasError(
                              'required'
                            )
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Opportunity Type</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <mat-select formControlName="opportunity_type" >
                          <mat-option [disabled]="true" value="Certification - New Audit (RA)">Certification - New Audit (RA)</mat-option>
                          <mat-option [disabled]="true"  value="Certification - Audit (TRA)">Certification - Audit (TRA)</mat-option>
                          <mat-option [disabled]="true" value="KSC - Facilitation">KSC - Facilitation</mat-option>
                          <mat-option [disabled]="true" value="KSC - GAP Assessment">KSC - GAP Assessment</mat-option>
                          <mat-option [disabled]="true" value="KSC - Special Assessment">KSC - Special Assessment</mat-option>
                          <mat-option [disabled]="true" value="KSC - Training">KSC - Training</mat-option>
                          <mat-option [disabled]="true" value="Certification - Inter Company">Certification - Inter Company</mat-option>
                          <mat-option [disabled]="true" value="Existing Opportunity - Migration">Existing Opportunity - Migration</mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Opportunity Ref No</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <input tabindex="-1"  matInput type="text" formControlName="opportunity_ref" />
                        <mat-error *ngIf="
                            leadForm.controls['opportunity_ref'].hasError(
                              'required'
                            )
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Product Request</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <input tabindex="-1"  matInput type="text" formControlName="product_request" />
                        <mat-error *ngIf="
                            leadForm.controls['product_request'].hasError(
                              'required'
                            )
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>GST Applicable</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <input tabindex="-1"  matInput type="text" formControlName="gst_applicable" />
                        <mat-error *ngIf="
                            leadForm.controls['gst_applicable'].hasError(
                              'required'
                            )
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12" *ngIf="unreg">
                    <div class="form-group">
                      <p>URD Number</p>
                      <mat-form-field appearance="outline" readonly>
                        <input tabindex="-1"
                          matInput
                          maxlength="15"
                          type="text"
                          formControlName="urd_number"
                          oninput="this.value = this.value.toUpperCase()"
                        />
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12" *ngIf="(gstreg&&gstvalidation)">
                    <div class="form-group">
                      <p>GST Number</p>
                      <mat-form-field appearance="outline" readonly>
                        <input tabindex="-1"
                          matInput
                          maxlength="15"
                          type="text"
                          formControlName="gst_number"
                          oninput="this.value = this.value.toUpperCase()"
                        />
                      </mat-form-field>
                      <mat-error
                        *ngIf="
                          leadForm.controls['gst_number'].hasError('pattern')
                        "
                      >
                        GST Number is Invalid
                      </mat-error>
                    </div>
                  </div>
                </div>
                <!-- <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Assesment Period</p>
                      <mat-form-field appearance="outline">
                        <mat-select formControlName="assessment_period">
                          <mat-option value="Annual" (click)="annualFunc()">Annual</mat-option>
                          <mat-option value="Semi-Annual" (click)="annualSemiFunc()">Semi-Annual</mat-option>
                        </mat-select>
                        <mat-error *ngIf="
                            leadForm.controls['assessment_period'].hasError(
                              'required'
                            )
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                    <div class="form-group">
                      <p>Select Stage</p>
                      <mat-form-field appearance="outline" *ngIf="semiAnnual">
                        <mat-select formControlName="stage">
                          <mat-option value="S1">S1</mat-option>
                          <mat-option value="S2">S2</mat-option>
                          <mat-option value="CA1">CA1</mat-option>
                          <mat-option value="CA2">CA2</mat-option>
                          <mat-option value="TRA">TRA</mat-option>
                          <mat-option value="Desk Review">Desk Review</mat-option>
                          <mat-option value="PE">PE</mat-option>
                          <mat-option value="TF">TF</mat-option>
                        </mat-select>
                        <mat-error *ngIf="
                            leadForm.controls['stage'].hasError('required')
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                      <mat-form-field appearance="outline" *ngIf="!semiAnnual">
                        <mat-select formControlName="stage">
                          <mat-option value="BCA 3">BCA 3</mat-option>
                          <mat-option value="BCA 4">BCA 4</mat-option>
                          <mat-option value="BCA 5">BCA 5</mat-option>
                        </mat-select>
                        <mat-error *ngIf="
                            leadForm.controls['stage'].hasError('required')
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <p>EA Code</p>
                      <mat-form-field appearance="outline">
                        <mat-select #eacodeselect multiple formControlName="ea_code">
                          <div class="select-all">
                            <mat-checkbox [(ngModel)]="allSelectedCode" [ngModelOptions]="{ standalone: true }"
                              (change)="toggleAllCodeSelect()">Select All</mat-checkbox>
                          </div>
                          <mat-option (click)="optionEaCode()" *ngFor="let item of eaCodeList"
                            [value]="item.ea_code_name">{{ item.ea_code_name }}</mat-option>
                        </mat-select>
                        <mat-error *ngIf="
                            leadForm.controls['ea_code'].hasError('required')
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                    <div class="form-group">
                      <p>No of Mandays</p>
                      <mat-form-field appearance="outline">
                        <input matInput type="text" formControlName="no_of_mandays" />
                        <mat-error *ngIf="
                          leadForm.controls['no_of_mandays'].hasError('required')
                        ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-1 col-lg-1 col-md-1 col-sm-1 col-12">
                    <div class="form-group">
                      <mat-icon class="add-man" (click)="addStage()"></mat-icon>
                    </div>
                    <div class="form-group">
                      <mat-icon class="add-man" (click)="addStage()">add_circle</mat-icon>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group stage-table">
                      <div class="head-table">
                        <h4 class="head-stage">
                          Stage
                        </h4>
                        <h4 class="head-stage right">
                          No of Mandays
                        </h4>
                      </div>
                      <div *ngFor="let item of this.stageData" class="data_right_all">
                        <h1>
                          {{ item.stage }} <span>{{ item.noOfMandays }}</span>
                        </h1>
                        <hr>
                      </div>
                    </div>
                  </div>
                </div> -->
              </div>
            </mat-card>
          </div>
        </section>

        <section class="job-nav" *ngIf="singleLeadData?.budgetaryQuote == 'FALSE'">
          <div class="section">
            <mat-card>
              <div class="row form_head">
                <h3>Additional Site Details</h3>
              </div>

              <div class="form_basic" >
                <div class="row">
                  <div class="col-xxl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                    <div class="form-group">
                      <div style="display: flex; justify-content: space-between;">

                        <div style="width:50%">
                          <p>Select Site</p>
                          <input type="checkbox" id="billing_site_two" [(ngModel)]="checkBoxOne" class="bill-name"  [ngModelOptions]="{ standalone: true }"
                          name="billing_site_two" value="true"
                          (change)="typeChangeParent(singleLeadData,$event)"/>
                          <label for="billing_site_two" class="bill-site">
                            {{ singleLeadData?.br_number }}
                            {{
                            singleLeadData?.associated_company +
                            " - " +
                            singleLeadData?.customer_category
                            }}
                            /{{ singleLeadData?.state_name }}/{{
                            singleLeadData?.region_name
                            }}</label>
                        </div>

                        <!-- <div style="width:50%">
                          <p>Billing Site</p>
                     
                          <input type="checkbox" id="billing_site" class="bill-name"
                          name="billing_site" value="true"
                          />
                        <label for="billing_site" class="bill-site">
                          {{ singleLeadData?.br_number }}
                          {{
                          singleLeadData?.associated_company +
                          " - " +
                          singleLeadData?.customer_category
                          }}
                          /{{ singleLeadData?.state }}/{{
                          singleLeadData?.region_name
                        }}</label>                       
                        </div> -->
                        <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                         
                          <p>Billing Site</p>
                          <label for="billing_site_two" class="bill-sit billing_site_ui" *ngFor="let item of singleLeadData?.billing_site_copy index as i">
                            {{i+1}} {{')'}} {{ item}}
                            {{this.singleLeadData?.associated_company +" - " +this.singleLeadData?.customer_category}}/{{singleLeadData?.city_name}}/
                            {{item?.first_name || singleLeadData?.region_name}}/{{item?.first_name ||singleLeadData?.first_name}}
                            </label>
                        </div>
                      </div>

                    <!-- Parent Section -->
                      <div>
                        <section class="job-nav" *ngIf="checkBoxOne">
                          <div class="section">
                            <mat-card>
                              <div class="row form_head">
                                <h3>Company Additional Details</h3>
                              </div>
                            <div class="row p-3">
                              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                                <div class="form-group">
                                  <p>Assesment Period</p>
                                  <mat-form-field appearance="outline">
                                    <mat-select formControlName="assessment_period">
                                      <mat-option   value="Annual" (click)="annualFunc()">Annual</mat-option>
                                      <mat-option  value="Semi-Annual" (click)="annualSemiFunc()">Semi-Annual</mat-option>
                                    </mat-select>
                                    <mat-error *ngIf="
                                        leadForm.controls['assessment_period'].hasError(
                                          'required'
                                        )
                                      ">
                                      This field is required!
                                    </mat-error>
                                  </mat-form-field>
                                </div>
                                <div class="form-group">
                                  <p>Select Stage</p>
                                  <mat-form-field appearance="outline" *ngIf="semiAnnual">
                                    <!-- <mat-label>Candidate Name</mat-label> -->
                                    <mat-select formControlName="stage">
                                      <mat-option  value="S1">S1</mat-option>
                                      <mat-option  value="S2">S2</mat-option>
                                      <mat-option  value="CA1">CA1</mat-option>
                                      <mat-option  value="CA2">CA2</mat-option>
                                      <mat-option  value="TRA">TRA</mat-option>
                                      <mat-option value="Desk Review">Desk Review</mat-option>
                                      <mat-option  value="PE">PE</mat-option>
                                      <mat-option  value="TF">TF</mat-option>
                                    </mat-select>
                                    <mat-error *ngIf="
                                        leadForm.controls['stage'].hasError('required')
                                      ">
                                      This field is required!
                                    </mat-error>
                                  </mat-form-field>
                                  <mat-form-field appearance="outline" *ngIf="!semiAnnual">
                                    <!-- <mat-label>Candidate Name</mat-label> -->
                                    <mat-select formControlName="stage">
                                      <mat-option  value="BCA 3">BCA 3</mat-option>
                                      <mat-option  value="BCA 4">BCA 4</mat-option>
                                      <mat-option  value="BCA 5">BCA 5</mat-option>
                                    </mat-select>
                                    <mat-error *ngIf="
                                        leadForm.controls['stage'].hasError('required')
                                      ">
                                      This field is required!
                                    </mat-error>
                                  </mat-form-field>
                                </div>
                              </div>
                              <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                                <div class="form-group">
                                  <p>EA Code</p>
                                  <mat-form-field appearance="outline">
                                    <mat-select #eacodeselect multiple formControlName="ea_code">
                                      <div class="select-all">
                                        <mat-checkbox [(ngModel)]="allSelectedCode" [ngModelOptions]="{ standalone: true }"
                                          (change)="toggleAllCodeSelect()">Select All</mat-checkbox>
                                      </div>
                                      <mat-option (click)="optionEaCode()" *ngFor="let item of eaCodeList"
                                        [value]="item.ea_code_name">{{ item.ea_code_name }}</mat-option>
                                    </mat-select>
                                    <mat-error *ngIf="
                                        leadForm.controls['ea_code'].hasError('required')
                                      ">
                                      This field is required!
                                    </mat-error>
                                  </mat-form-field>
                                </div>
                                <div class="form-group">
                                  <p>No of Mandays</p> 
                                  <mat-form-field appearance="outline">
                                    <input matInput  type="text"  formControlName="no_of_mandays" />
                                    <mat-error *ngIf="
                                      leadForm.controls['no_of_mandays'].hasError('required')
                                    ">
                                      This field is required!
                                    </mat-error>
                                  </mat-form-field>
                                </div>
                              </div>
                              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                                <div class="form-group stage-table">
                                  <div class="head-table">
                                    <h4 class="head-stage">
                                      Stage
                                    </h4>
                                    <h4 class="head-stage right">
                                      No of Mandays
                                    </h4>

                                  </div>
                                  <div *ngFor="let item of this.stageData" class="data_right_all">
                                    <div style="display: flex;justify-content: space-between;
                                    align-items: center;">
                                    <span class="row-val">
                                      {{ item.stage }}
                                    </span>
                                    <span class="row-val">
                                    <span style="margin-right: 12px;">{{ item.noOfMandays }}</span>
                                      <span style="cursor: pointer;" (click)="deleteDays(item.mandays_id, item.br_number)"><mat-icon
                                      >delete</mat-icon>
                                      </span>
                                    </span>
                                  </div>

                                    <hr>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="row p-3">
                              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                                <div class="form-group">
                                  <p>Employee Count</p>
                                  <mat-form-field appearance="outline">
                                    <input tabindex="-1"  matInput min="1" type="number"
                                      formControlName="employee_count" />
                                  </mat-form-field>
                                </div>
                              </div>
                                <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                                <div class="form-group">
                                  <p>Standard/Program</p> 
                                  <mat-form-field appearance="outline">
                                    <mat-select formControlName="standard_program_assement">
                                      <mat-option (click)="getAssesmentName(item)"
                                        *ngFor="let item of assesmentList"
                                        [value]="item.product_master_id"
                                        >{{ item.product_master_name }}</mat-option>
                                     </mat-select>
                                    <mat-error *ngIf="
                                      leadForm.controls['standard_program_assement'].hasError('required')
                                    ">
                                      This field is required!
                                    </mat-error>
                                  </mat-form-field>
                                </div>
                              </div>
                              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                                <div class="form-group">
                                  <p>Scope</p>
                                  <mat-form-field appearance="outline">
                                    <input   matInput type="text"
                                      formControlName="scope" />
                                  </mat-form-field>
                                </div>
                              </div>
                            </div>

                            <div class="row">
                              <div class="col-xxl-12 col-lg-12 col-md-12 col-sm-12 col-12" style="text-align: center;">
                                <div class="form-group">
                                  <mat-icon class="add-man"></mat-icon>
                                </div>
                                <div class="form-group" style="color: #023462;">
                                  <mat-icon class="add-man" (click)="addStage1(singleLeadData)">add_circle</mat-icon>
                                </div>
                              </div>
                            </div>
                          </mat-card>
                            </div>
                        </section>
                      </div>
                      
               <!-- child Site -->
                      <div *ngFor="let data of singleLeadData1">
                      <div style="display:flex;">
                      <div>
                     <mat-checkbox [ngModelOptions]="{ standalone: true }" [(ngModel)]="data.checked"  class="example-margin"
                        [checked]="data.checked"
                        (change)="typeChange($event,data)">
                        {{ data?.br_number}}
                        /{{ data?.state_name }}/
                       {{data?.region_name}}
                       </mat-checkbox>                    
                      </div>

                      <!-- <div style="margin-left: 37.9%;">
                      <input type="checkbox" id="billing_site" class="bill-name"
                        name="billing_site" value="true" />
                      <label for="billing_site" class="bill-site">
                        {{ data?.br_number }}
                        /{{ data?.state_name }}/{{
                       data?.region_name
                        }}</label>
                      </div> -->
                      </div>
                      </div>
                    <section class="job-nav" *ngIf="childSide">
                        <div class="section">
                          <mat-card>
                            <div class="row form_head">
                              <h3>Company Additional Details - <span>{{child_br_number}}</span></h3>
                            </div>
                          <div class="row p-3">
                            <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                              <div class="form-group">
                                <p>Assesment Period</p>
                                <mat-form-field appearance="outline">
                                  <mat-select formControlName="assessment_period">
                                    <mat-option value="Annual" (click)="annualFunc()">Annual</mat-option>
                                    <mat-option value="Semi-Annual" (click)="annualSemiFunc()">Semi-Annual</mat-option>
                                  </mat-select>
                                  <mat-error *ngIf="
                                      leadForm.controls['assessment_period'].hasError(
                                        'required'
                                      )
                                    ">
                                    This field is required!
                                  </mat-error>
                                </mat-form-field>
                              </div>
                              <div class="form-group">
                                <p>Select Stage</p>
                                <mat-form-field appearance="outline" *ngIf="semiAnnual">
                                  <!-- <mat-label>Candidate Name</mat-label> -->
                                  <mat-select formControlName="stage">
                                    <mat-option value="S1">S1</mat-option>
                                    <mat-option value="S2">S2</mat-option>
                                    <mat-option value="CA1">CA1</mat-option>
                                    <mat-option value="CA2">CA2</mat-option>
                                    <mat-option value="TRA">TRA</mat-option>
                                    <mat-option value="Desk Review">Desk Review</mat-option>
                                    <mat-option value="PE">PE</mat-option>
                                    <mat-option value="TF">TF</mat-option>
                                  </mat-select>
                                  <mat-error *ngIf="
                                      leadForm.controls['stage'].hasError('required')
                                    ">
                                    This field is required!
                                  </mat-error>
                                </mat-form-field>
                                <mat-form-field appearance="outline" *ngIf="!semiAnnual">
                                  <!-- <mat-label>Candidate Name</mat-label> -->
                                  <mat-select formControlName="stage">
                                    <mat-option value="BCA 3">BCA 3</mat-option>
                                    <mat-option value="BCA 4">BCA 4</mat-option>
                                    <mat-option value="BCA 5">BCA 5</mat-option>
                                  </mat-select>
                                  <mat-error *ngIf="
                                      leadForm.controls['stage'].hasError('required')
                                    ">
                                    This field is required!
                                  </mat-error>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                              <div class="form-group">
                                <p>EA Code</p>
                                <mat-form-field appearance="outline">
                                  <mat-select #eacodeselect multiple formControlName="ea_code">
                                    <div class="select-all">
                                      <mat-checkbox [(ngModel)]="allSelectedCode" [ngModelOptions]="{ standalone: true }"
                                        (change)="toggleAllCodeSelect()">Select All</mat-checkbox>
                                    </div>
                                    <mat-option (click)="optionEaCode()" *ngFor="let item of eaCodeList"
                                      [value]="item.ea_code_name">{{ item.ea_code_name }}</mat-option>
                                  </mat-select>
                                  <mat-error *ngIf="
                                      leadForm.controls['ea_code'].hasError('required')
                                    ">
                                    This field is required!
                                  </mat-error>
                                </mat-form-field>
                              </div>
                              <div class="form-group">
                                <p>No of Mandays</p>
                                <mat-form-field appearance="outline">
                                  <input matInput type="text" formControlName="no_of_mandays" />
                                  <mat-error *ngIf="
                                    leadForm.controls['no_of_mandays'].hasError('required')
                                  ">
                                    This field is required!
                                  </mat-error>
                                </mat-form-field>
                              </div>
                            </div>
                          
                            <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                              <div class="form-group stage-table">
                                <div class="head-table">
                                  <h4 class="head-stage">
                                    Stage
                                  </h4>
                                  <h4 class="head-stage right">
                                    No of Mandays
                                  </h4>

                                </div>
                                <div *ngFor="let item of this.stageData" class="data_right_all">
                                  <div style="display: flex;justify-content: space-between;
                                  align-items: center;">
                                  <span class="row-val">
                                    {{ item.stage }}
                                  </span>
                                  <span class="row-val">
                                  <span style="margin-right: 12px;">{{ item.noOfMandays }}</span>
                                    <span style="cursor: pointer;" (click)="deleteDays(item.mandays_id, item.br_number)"><mat-icon
                                    >delete</mat-icon>
                                    </span>
                                  </span>
                                </div>


                                  <hr>
                                </div>
                              </div>
                            </div>

                            <div>                            
                            </div> 
                          </div>
                          <div class="row p-3">
                            <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                              <div class="form-group">
                                <p>Employee Count</p>
                                <mat-form-field appearance="outline">
                                  <input tabindex="-1"  matInput min="1" type="number"
                                    formControlName="emp_count"/>
                                </mat-form-field>
                              </div>
                            </div>
                              <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                              <div class="form-group">
                                <p>Standard/Program</p> 
                                <mat-form-field appearance="outline">
                                  <mat-select formControlName="standard_program">
                                    <mat-option 
                                      *ngFor="let item of assesmentList"
                                      [value]="item.product_master_id" (click)="getAssesmentName(item)"
                                      >{{ item.product_master_name }}</mat-option>
                                   </mat-select>
                                  <mat-error *ngIf="
                                    leadForm.controls['standard_program'].hasError('required')
                                  ">
                                    This field is required!
                                  </mat-error>
                                </mat-form-field>
                              </div>
                            </div>
                            <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                              <div class="form-group">
                                <p>Scope</p>
                                <mat-form-field appearance="outline">
                                  <input   matInput type="text"
                                    formControlName="child_scope"/>
                                </mat-form-field>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-xxl-12 col-lg-12 col-md-12 col-sm-12 col-12" style="text-align: center;">
                              <div class="form-group">
                                <mat-icon class="add-man"></mat-icon>
                              </div>
                              <div class="form-group" style="color: #023462;">
                                <mat-icon class="add-man" (click)="addStage(singleLeadData1)">add_circle</mat-icon>
                              </div>
                            </div>
                          </div>
                        </mat-card>
                          </div>
                      </section>

                        <!-- <input
                        formControlName="billing_site"
                        type="checkbox"
                        id="billing_site"
                        class="bill-name"
                        name="billing_site"
                        value="true"
                        *ngIf="!childBlock"
                      /> -->
                      <!-- <label for="billing_site" class="bill-site" *ngIf="!childBlock">
                        {{ this.childData[0]?.br_number }}/
                        {{this.singleLeadData?.associated_company +
                            " - " +
                            this.singleLeadData?.customer_category
                        }}/{{ this.childData[0]?.city_name }}/{{
                          this.childData[0]?.region
                        }}/{{this.childData[0]?.first_name}}</label
                      ><br /> -->
                    </div>
                  </div>
                </div>
              </div>
            </mat-card>
          </div>
        </section>

        <!-- Section Page -->
        <section class="job-nav" *ngIf="singleLeadData?.budgetaryQuote == 'TRUE'">
          <div class="section">
            <mat-card>
              <div class="row form_head">
                <h3>Additional Site Details copy</h3>
              </div>

              <div class="form_basic">

                <form class="form_set" [formGroup]="leadForm">
                  <div class="row">
                    <div class="col-xxl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                      <div class="form-group">
                        <p>Billing Site</p>
                        <input formControlName="billing_site" type="checkbox" id="billing_site" class="bill-name"
                          name="billing_site" value="Self" (change)="typeChangeParent(singleLeadData,$event)" />
                        <label for="billing_site" class="bill-site"> {{this.singleLeadData?.br_number}}/
                          {{this.singleLeadData?.associated_company + " - " +
                          this.singleLeadData?.customer_category}}/{{this.singleLeadData?.state_name}}/{{this.singleLeadData?.region_name}}</label><br>
                      </div>

                    </div>
                  </div>
                  <div class="row mt-4" *ngIf="parentSide">
                    <!---stage and Mandays table start-->
                    <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                      <div class="form-group stage-table">
                        <div class="d-flex justify-content-between  p-1 rounded fw-bolder text-white" style="background-color: #063178;">
                          <h4 class="p-0 m-0"> Stage </h4>
                          <h4 class="p-0 m-0">   No of Mandays </h4>
                        </div>
                        <div *ngFor="let item of this.stageData" class="data_right_all">
                          <div style="display: flex;justify-content: space-between; align-items: center;">
                            <span class="row-val">
                              {{ item.stage }}
                            </span>
                            <span class="row-val">
                              <span style="margin-right: 12px;">{{ item.noOfMandays }}</span>
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!---stage and Mandays table end-->
                </div>
                </form>
              </div>
            </mat-card>
          </div>
        </section>


           <!-- Section Page1 -->




        <section class="job-nav">
          <div class="section">
            <mat-card>
              <div class="row form_head">
                <h3>Documents Required</h3>
              </div>

              <div class="form_basic">
                <div class="row">
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <p class="file-tag">Contact Review Form</p>
                    </div>
                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <input formControlName="contact_review_form" id="file" type="file" multiple class="form-control"
                        (change)="fileInputChange($event)" />
                    </div>

                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group" *ngIf="this.singleLeadData?.contact_review_form">
                      <button class="view-doc" (click)="viewDocReview()">
                        View
                      </button>
                      <button class="view-doc down" (click)="downloadContact($event)">
                        Download
                      </button>
                      <p class="version_count">V{{singleLeadData?.contactFile_count}}</p>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <p class="file-tag">GST File</p>
                    </div>
                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <input formControlName="gst_file" id="file" type="file" multiple class="form-control"
                        (change)="fileInputChangeOne($event)" />
                    </div>
                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <button class="view-doc" (click)="viewDocGST()">
                        View
                      </button>
                      <button class="view-doc down" (click)="downloadGst($event)">
                        Download
                      </button>
                      <p class="version_count">V{{singleLeadData?.gstFile_count}}</p>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <p class="file-tag">Company Logo File</p>
                    </div>
                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <input formControlName="company_logo" id="file" type="file" multiple class="form-control"
                        (change)="fileInputChangeTwo($event)" />
                    </div>
                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <button class="view-doc" (click)="viewDocLogo()">
                        View
                      </button>
                      <button class="view-doc down" (click)="downloadLogo($event)">
                        Download
                      </button>
                      <p class="version_count">V{{singleLeadData?.companyFile_count}}</p>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <p class="file-tag">Basic Form</p>
                    </div>
                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <input formControlName="basic_form" id="file" type="file" multiple class="form-control"
                        (change)="fileInputChangeThree($event)" />
                    </div>
                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
              
                      <button class="view-doc" (click)="viewDocBasic()">
                        View
                      </button>
                      <button class="view-doc down" (click)="downloadBasic($event)">
                        Download
                      </button>
                      <p class="version_count">V{{singleLeadData?.basicFile_count}}</p>
                    </div>
                  </div>
                </div>
                <div *ngFor="let data of otherDocumentData; let i = index" class="row">
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <p class="file-tag">Others</p>
                    </div>
                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <input  (change)="onChange($event, i)"
                      formControlName="other_file" id="file" type="file" multiple class="form-control" />
                     </div>    
                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <button class="view-doc" (click)="viewDocOther(i)">
                        View
                      </button>
                      <button class="view-doc down" (click)="downloadOther(i)">
                        Download
                      </button>
                      <p class="version_count">V{{i+1}}</p>
                    </div>
                  </div>   
                </div>

                <div class="row">
                  <div class="col-xxl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                    <div class="form-group">
                      <p class="file-tag">Remarks</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='sendL1'?'readonly-wrapper' : ''">
                        <input matInput type="text" formControlName="document_remark" />
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                    <div class="form-group">
                      <p class="file-tag">Select Approver</p>
                      <mat-form-field appearance="outline" readonly>
                        <mat-select formControlName="approver_name_l1Id" (selectionChange)="selectApprover($event)">
                            <mat-select-filter [array]="variables" (filteredReturn)="fun1($event)"></mat-select-filter>
                          <!-- <mat-option *ngFor="let item of rowData" [value]="item.approval_name">{{item.approval_name}}</mat-option> -->
                          <mat-option *ngFor="let item of newApprverData" [value]="item.employee_id">{{ item.first_name
                            }}</mat-option>

                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                    <div class="form-group">
                      <p class="file-tag">Remarks</p>
                      <mat-form-field appearance="outline">
                        <input matInput type="text" formControlName="l1forComments" />
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-6 col-lg-6 col-md-6 col-sm-6 col-12 mt-5">
                    <button mat-raised-button
                    color="warn"  style="height:30px" class="mx-4" (click)="reject()">Reject</button>
                    <button   style="height:30px" mat-raised-button 
                    color="primary"   (click)="submitForm()">
                     Approve
                    </button>
                  </div>
                </div>
              </div>

            </mat-card>
          </div>
        </section>
        <div class="upload-btn">
          <button class="cancel-btn" (click)="cancels()">Cancel</button>
          <!-- <button class="cancel-btn" (click)="reject()">Reject</button> -->
          <button *ngIf="leadUpdate==='sendL1'" class="favorite styled" (click)="submitForm()">
            Send For L1
          </button>
          <button *ngIf="leadUpdate==='updatesendL1'" class="favorite styled" (click)="updateForm()">
            Update Send For L1
          </button>
        </div>
      </form>


    </div>
  </div>
</mat-card>
