<mat-card>
  <div class="section">
    <div class="main">
      <div class="employee">
        <!-- <p>HRMS</p> -->
      </div>
      <div class="msater-nav">
        <a>Audit<mat-icon>keyboard_arrow_right</mat-icon></a>
        <a routerLink="/master/audit/pre-audit">Pre-Audit<mat-icon>keyboard_arrow_right</mat-icon></a>
        <a [routerLink]="getCurrentRoute()">Planning Audit Details</a>
      </div>

      <div class="updatetitle" *ngIf="!auditorBlock">
        {{leadUpdate==='updatesave'? 'Update Planning Audit Details':'Planning Audit Details'}}
      </div>
      <div class="updatetitle" *ngIf="auditorBlock">Raise Task Order</div>

      <div class="apply-btn">
        <!-- <a routerLink="../interview-status-list">List</a> -->
      </div>
      <form class="form_set" [formGroup]="leadForm">
        <section class="job-nav">
          <div class="section">
            <mat-card>
              <div class="row form_head">
                <h3>Company Additional Details</h3>
              </div>

              <div class="form_basic form_set">

                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Industry Sector</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput type="text" formControlName="industry_sector" />
                        <mat-error *ngIf="
                            leadForm.controls['industry_sector'].hasError(
                              'required'
                            )
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Customer Category</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <!-- <mat-label>Candidate Name</mat-label> -->
                        <mat-select formControlName="customer_category">
                          <mat-option value="Pvt Ltd">Pvt Ltd</mat-option>
                          <mat-option value="Public Ltd">Public Ltd</mat-option>
                        </mat-select>
                        <mat-error *ngIf="
                            leadForm.controls['customer_category'].hasError(
                              'required'
                            )
                          ">
                          This field is required!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12" *ngIf="nonCertTrue">
                    <div class="form-group">
                      <p>Employee Count</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput min="1" type="text" formControlName="employee_count" />
                        <mat-error *ngIf="
                            leadForm.controls['employee_count'].hasError(
                              'required'
                            )
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Customer Sales Executive</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput type="text" formControlName="customer_sales_executive" />
                        <mat-error *ngIf="
                            leadForm.controls[
                              'customer_sales_executive'
                            ].hasError('required')
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Assign Opportunity to</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput type="text" formControlName="assigned_to" />
                        <mat-error *ngIf="
                            leadForm.controls['assigned_to'].hasError(
                              'required'
                            )
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Opportunity Type</p>
                      <mat-form-field appearance="outline" readonly>
                        <mat-select formControlName="opportunity_type" required>
                          <mat-option value="Certification - New Audit (RA)">Certification - New Audit (RA)</mat-option>
                          <mat-option value="Certification - Audit (TRA)">Certification - Audit (TRA)</mat-option>
                          <mat-option value="KSC - Facilitation">KSC - Facilitation</mat-option>
                          <mat-option value="KSC - GAP Assessment">KSC - GAP Assessment</mat-option>
                          <mat-option value="KSC - Special Assessment">KSC - Special Assessment</mat-option>
                          <mat-option value="KSC - Training">KSC - Training</mat-option>
                          <mat-option value="Certification - Inter Company">Certification - Inter Company</mat-option>
                          <mat-option value="Existing Opportunity - Migration">Existing Opportunity -
                            Migration</mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Opportunity Ref No</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput type="text" formControlName="opportunity_ref" />
                      </mat-form-field>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Product Request</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput type="text" formControlName="product_request" />
                        <mat-error *ngIf="
                            leadForm.controls['product_request'].hasError(
                              'required'
                            )
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>GST Applicable</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput type="text" formControlName="gst_applicable" />
                        <mat-error *ngIf="
                            leadForm.controls['gst_applicable'].hasError(
                              'required'
                            )
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12" *ngIf="unreg">
                    <div class="form-group">
                      <p>URD Number</p>
                      <mat-form-field appearance="outline" readonly>
                        <input matInput maxlength="15" type="text" formControlName="urd_number"
                          oninput="this.value = this.value.toUpperCase()" />
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12" *ngIf="(gstreg&&gstvalidation)">
                    <div class="form-group">
                      <p>GST Number</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput maxlength="15" type="text" formControlName="gst_number"
                          oninput="this.value = this.value.toUpperCase()" />
                      </mat-form-field>
                      <mat-error *ngIf="
                          leadForm.controls['gst_number'].hasError('pattern')
                        ">
                        GST Number is Invalid
                      </mat-error>
                    </div>
                  </div>
                </div>

              </div>
            </mat-card>
          </div>

        </section>

        <section class="job-nav" *ngIf="!showsiclogo">
          <div class="section">
            <mat-card>
              <div class="row form_head">
                <h3>SIC & Accredition Logo Details</h3>
              </div>

              <div class="form_basic form_set">

                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Assessment Period</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <mat-select formControlName="assessment_period">
                          <mat-option value="Annual">Annual</mat-option>
                          <mat-option value="Semi-Annual">Semi-Annual</mat-option>
                        </mat-select>
                        <mat-error *ngIf="
                            leadForm.controls['assessment_period'].hasError(
                              'required'
                            )
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>EA Code</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput type="text" formControlName="ea_code" />
                        <mat-error *ngIf="
                            leadForm.controls['ea_code'].hasError('required')
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Accredition Logo Details</p>
                      <mat-form-field appearance="outline">
                        <input matInput type="text" formControlName="accredition_logo_details" />
                        <mat-error *ngIf="
                            leadForm.controls[
                              'accredition_logo_details'
                            ].hasError('required')
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <table
                        mat-table
                        [dataSource]="dataSource"
                        class="mat-elevation-z8"
                      >
                         Note that these columns can be defined in any order.
                            The actual rendered columns are set as a property on the row definition"

                         Position Column
                        <ng-container matColumnDef="account_name">
                          <th mat-header-cell *matHeaderCellDef>
                            Select Stage
                          </th>
                          <td mat-cell *matCellDef="let element">
                            {{ element.account_name }}
                          </td>
                        </ng-container>

                         Name Column
                        <ng-container matColumnDef="br_number">
                          <th mat-header-cell *matHeaderCellDef>
                            No of Mandays
                          </th>
                          <td mat-cell *matCellDef="let element">
                            {{ element.br_number }}
                          </td>
                        </ng-container>

                        <tr
                          mat-header-row
                          *matHeaderRowDef="displayedColumns"
                        ></tr>
                        <tr
                          mat-row
                          *matRowDef="let row; columns: displayedColumns"
                        ></tr>
                      </table>
                    </div>
                  </div> -->

                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Additional Certificates Copies</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput type="text" formControlName="add_cert_copy" />
                      </mat-form-field>
                    </div>
                  </div>
                </div>

              </div>
            </mat-card>
          </div>
        </section>


        <section class="job-nav">
          <div class="section">
            <mat-card>
              <div class="row form_head">
                <h3>Documents Required</h3>
              </div>

              <div class="form_basic form_set">

                <div class="row">
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <p class="file-tag">Contact Review Form</p>
                    </div>
                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <input formControlName="contact_review_form" id="file" type="file" multiple class="form-control"
                        (change)="fileInputChange($event)" />
                    </div>

                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group" *ngIf="this.singleLeadData?.contact_review_form">
                      <button class="view-doc" (click)="viewDocReview()">
                        View
                      </button>
                      <button class="view-doc down" (click)="downloadContact($event)">
                        Download
                      </button>
                      <p class="version_count">V{{singleLeadData?.contactFile_count}}</p>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <p class="file-tag">GST File</p>
                    </div>
                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <input formControlName="gst_file" id="file" type="file" multiple class="form-control"
                        (change)="fileInputChangeOne($event)" />
                    </div>
                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <button class="view-doc" (click)="viewDocGST()">
                        View
                      </button>
                      <button class="view-doc down" (click)="downloadGst($event)">
                        Download
                      </button>
                      <p class="version_count">V{{singleLeadData?.gstFile_count}}</p>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <p class="file-tag">Company Logo File</p>
                    </div>
                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <input formControlName="company_logo" id="file" type="file" multiple class="form-control"
                        (change)="fileInputChangeTwo($event)" />
                    </div>
                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <button class="view-doc" (click)="viewDocLogo()">
                        View
                      </button>
                      <button class="view-doc down" (click)="downloadLogo($event)">
                        Download
                      </button>
                      <p class="version_count">V{{singleLeadData?.companyFile_count}}</p>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <p class="file-tag">Basic Form</p>
                    </div>
                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <input formControlName="basic_form" id="file" type="file" multiple class="form-control"
                        (change)="fileInputChangeThree($event)" />
                    </div>
                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <button class="view-doc" (click)="viewDocBasic()">
                        View
                      </button>
                      <button class="view-doc down" (click)="downloadBasic($event)">
                        Download
                      </button>
                      <p class="version_count">V{{singleLeadData?.basicFile_count}}</p>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <p class="file-tag">Others</p>
                    </div>
                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <input formControlName="other_file" id="file" type="file" multiple class="form-control"
                        (change)="fileInputChangeFour($event)" />
                    </div>
                  </div>
                  <div class="col-xxl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                    <div class="form-group">
                      <button class="view-doc" (click)="viewDocOther()">
                        View
                      </button>
                      <button class="view-doc down" (click)="downloadOther($event)">
                        Download
                      </button>
                      <p class="version_count">V{{singleLeadData?.otherFile_count}}</p>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xxl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                    <div class="form-group">
                      <p class="file-tag">Remarks</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput type="text" formControlName="document_remark" />
                      </mat-form-field>
                    </div>
                  </div>
                </div>

              </div>
            </mat-card>
          </div>
        </section>

        <section class="job-nav" *ngIf="!showsiclogo">
          <div class="section">
            <mat-card>
              <div class="row form_head">
                <h3>Opportunity Verification</h3>
              </div>

              <div class="form_basic form_set">

                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>L1 Verifier Name</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput type="text" formControlName="opp_verifier_name_level1" />
                        <mat-error *ngIf="
                            leadForm.controls[
                              'opp_verifier_name_level1'
                            ].hasError('required')
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>L1 Verified Date</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput [matDatepicker]="dp3" (click)="dp3.open()"
                          formControlName="opp_verified_date_level1" [max]="maxDate" [min]="minDate" />

                        <mat-datepicker-toggle matSuffix [for]="dp3"></mat-datepicker-toggle>
                        <mat-datepicker #dp3></mat-datepicker>
                        <mat-error *ngIf="
                            leadForm.controls[
                              'opp_verified_date_level1'
                            ].hasError('required')
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Remarks</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput type="text" formControlName="opp_verified_remarks_level1" />
                      </mat-form-field>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>L2 Verifier Name</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput type="text" formControlName="opp_verifier_name_level2" />
                        <mat-error *ngIf="
                            leadForm.controls[
                              'opp_verifier_name_level2'
                            ].hasError('required')
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>L2 Verified Date</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput [matDatepicker]="dp4" (click)="dp4.open()"
                          formControlName="opp_verified_date_level2" [max]="maxDate" [min]="minDate" />

                        <mat-datepicker-toggle matSuffix [for]="dp4"></mat-datepicker-toggle>
                        <mat-datepicker #dp4></mat-datepicker>
                        <mat-error *ngIf="
                            leadForm.controls[
                              'opp_verified_date_level2'
                            ].hasError('required')
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Remarks</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput type="text" formControlName="opp_verified_remarks_level2" />
                      </mat-form-field>
                    </div>
                  </div>
                </div>

              </div>
            </mat-card>
          </div>
        </section>

        <section class="job-nav">
          <div class="section">
            <mat-card>
              <div class="row form_head">
                <h3>Quotation Details</h3>
              </div>

              <div class="form_basic form_set">

                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Quotation Currency</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <mat-select formControlName="quotation_currency">
                          <mat-option *ngFor="let item of currencyList"
                            [value]="item.quotation_currency_id">{{item.quotation_currency_name}}</mat-option>
                        </mat-select>
                        <mat-error *ngIf="
                            leadForm.controls['quotation_currency'].hasError(
                              'required'
                            )
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Slab Quote</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput type="text" formControlName="slab_quote" />
                        <mat-error *ngIf="
                            leadForm.controls['slab_quote'].hasError('required')
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Expense Category</p>
                      <p>
                        <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                          <!-- <mat-label>Candidate Name</mat-label> -->
                          <mat-select formControlName="expense_category">
                            <mat-option value="Billable">Billable</mat-option>
                            <mat-option value="Non-Billable">Non-Billable</mat-option>
                          </mat-select>
                          <mat-error *ngIf="
                              leadForm.controls['expense_category'].hasError(
                                'required'
                              )
                            ">
                            This is an required field!
                          </mat-error>
                        </mat-form-field>
                      </p>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Accredition Logo Cost</p>
                      <mat-form-field appearance="outline">
                        <input matInput type="text" formControlName="logo_cost" />
                        <mat-error *ngIf="
                            leadForm.controls['logo_cost'].hasError('required')
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xxl-8 col-lg-8 col-md-8 col-sm-8 col-12">
                    Company Logo Required
                    <input formControlName="company_logo_req" (click)="logoReqNew()" checked="checked" type="radio"
                      name="company_logo_req" value="Yes" id="red" style="margin: 5% 5px 0 4%" />Yes
                    <input formControlName="company_logo_req" (click)="logoReq()" type="radio" name="company_logo_req"
                      value="No" id="blue" style="margin: 0 5px 4% 4%" />No
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group" *ngIf="logoRequired">
                      <p>Company Logo Cost</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput type="text" formControlName="company_logo_cost" />
                        <mat-error *ngIf="
                            leadForm.controls['company_logo_cost'].hasError(
                              'required'
                            )
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Quote Prepared</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput type="text" formControlName="quote_prepared" />
                        <mat-error *ngIf="
                            leadForm.controls['quote_prepared'].hasError(
                              'required'
                            )
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Quote Prepared Date</p>
                      <mat-form-field appearance="outline" [ngClass]="leadUpdate==='save' ? 'readonly-wrapper' : ''">
                        <input matInput [matDatepicker]="dp5" (click)="dp5.open()" formControlName="quote_prepared_date"
                          [max]="maxDate" [min]="minDate" />

                        <mat-datepicker-toggle matSuffix [for]="dp5"></mat-datepicker-toggle>
                        <mat-datepicker #dp5></mat-datepicker>
                        <mat-error *ngIf="
                            leadForm.controls['quote_prepared_date'].hasError(
                              'required'
                            )
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                      <div class="form-group">
                        <p style="margin: 10px 0">
                          Customer Agreed Slab-A Quote
                        </p>
                      </div>
                    </div>
                    <div class="col-xxl-2 col-lg-2 col-md-2 col-sm-2 col-12">
                      <div class="form-group">
                        <mat-form-field appearance="outline">
                          <mat-select formControlName="agreed_slab_a">
                            <mat-option (click)="acceptA()" value="Yes">Yes</mat-option>
                            <mat-option (click)="rejectA()" value="No">No</mat-option>
                          </mat-select>
                          <mat-error *ngIf="
                              leadForm.controls['agreed_slab_a'].hasError(
                                'required'
                              )
                            ">
                            This is an required field!
                          </mat-error>
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="col-xxl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                      <div class="form-group" *ngIf="rejectRemarksA">
                        <mat-form-field appearance="outline" readonly>
                          <mat-label>Reject Remarks</mat-label>
                          <input matInput type="text" formControlName="reject_remarks_a" />
                          <mat-error *ngIf="
                              leadForm.controls['reject_remarks_a'].hasError(
                                'required'
                              )
                            ">
                            This is an required field!
                          </mat-error>
                        </mat-form-field>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row" *ngIf="invoiceSent">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <span>Finance & Accounting Team Approval *</span>
                  </div>
                  <div class="col-xxl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                    <input formControlName="fin_approval" (click)="finApproveNew()" checked="checked" type="radio"
                      name="fin_approval" value="Yes" id="red" style="margin: 0% 5px 0 4%" />Yes
                    <input formControlName="fin_approval" (click)="finApprove()" type="radio" name="fin_approval"
                      value="No" id="blue" style="margin: 0 5px 4% 4%" />No
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <span>Sales & Marketing Head Approval *</span>
                  </div>
                  <div class="col-xxl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                    <input formControlName="sales_approval" (click)="saleApproveNew()" checked="checked" type="radio"
                      name="sales_approval" value="Yes" id="red" style="margin: 0% 5px 0 4%" />Yes
                    <input formControlName="sales_approval" (click)="saleApprove()" type="radio" name="sales_approval"
                      value="No" id="blue" style="margin: 0 5px 4% 4%" />No
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <span>Auditor Blocked/Planning Team approval *</span>
                  </div>
                  <div class="col-xxl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                    <input formControlName="audit_approval" (click)="auditApproveNew()" checked="checked" type="radio"
                      name="audit_approval" value="Yes" id="red" style="margin: 0% 5px 0 4%" />Yes
                    <input formControlName="audit_approval" (click)="auditApprove()" type="radio" name="audit_approval"
                      value="No" id="blue" style="margin: 0 5px 4% 4%" />No
                  </div>
                </div>

              </div>
            </mat-card>
          </div>
        </section>

        <section class="job-nav" *ngIf="!auditorBlock || interCompanyStatus">
          <div class="section">
            <mat-card>
              <div class="row form_head">
                <h3>Audit Planning Details</h3>
              </div>

              <div class="form_basic form_set">

                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Training/Audit Start Date</p>
                      <mat-form-field appearance="outline">
                        <input matInput [matDatepicker]="dp6" (click)="dp6.open()" formControlName="training_start_date"
                          (dateChange)="dateChange($event)" />

                        <mat-datepicker-toggle matSuffix [for]="dp6"></mat-datepicker-toggle>
                        <mat-datepicker #dp6></mat-datepicker>
                        <mat-error *ngIf="
                            leadForm.controls['training_start_date'].hasError(
                              'required'
                            )
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Training/Audit End Date</p>
                      <mat-form-field appearance="outline">
                        <input matInput [matDatepicker]="dp7" (click)="dp7.open()" formControlName="training_end_date"
                          [max]="maxDate" [min]="minDate2" />

                        <mat-datepicker-toggle matSuffix [for]="dp7"></mat-datepicker-toggle>
                        <mat-datepicker #dp7></mat-datepicker>
                        <mat-error *ngIf="
                            leadForm.controls['training_end_date'].hasError(
                              'required'
                            )
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12"></div>
                  <!-- <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Planning Status</p>
                      <mat-form-field appearance="outline">
                        <input matInput type="text" formControlName="planning_status" />
                        <mat-error *ngIf="
                            leadForm.controls['planning_status'].hasError(
                              'required'
                            )
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div> -->
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Training/Audit Confirmed Date</p>
                      <mat-form-field appearance="outline">
                        <input matInput [matDatepicker]="dp8" (click)="dp8.open()"
                          formControlName="training_confirm_date" [max]="maxDate" [min]="minDate" />

                        <mat-datepicker-toggle matSuffix [for]="dp8"></mat-datepicker-toggle>
                        <mat-datepicker #dp8></mat-datepicker>
                        <mat-error *ngIf="
                            leadForm.controls['training_confirm_date'].hasError(
                              'required'
                            )
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Locked Status</p>
                      <mat-form-field appearance="outline">
                        <mat-select formControlName="locked_status">
                          <mat-option value="Open">Open</mat-option>
                          <mat-option value="Locked">Locked</mat-option>
                        </mat-select>
                        <mat-error *ngIf="
                            leadForm.controls['locked_status'].hasError(
                              'required'
                            )
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div> -->

                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Remarks</p>
                      <mat-form-field appearance="outline">
                        <input matInput type="text" formControlName="training_remarks" />
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>To Approval By</p>
                      <p>
                        <mat-form-field appearance="outline">
                          <!-- <mat-label>Candidate Name</mat-label> -->
                          <mat-select formControlName="approval_by">
                            <mat-select-filter [array]="variables_"
                              (filteredReturn)="funApp($event)"></mat-select-filter>
                            <mat-option *ngFor="let item of checkData_" [value]="item.first_name">{{ item.first_name}}
                            </mat-option>
                          </mat-select>
                          <mat-error *ngIf="
                              leadForm.controls['approval_by'].hasError(
                                'required'
                              )
                            ">
                            This is an required field!
                          </mat-error>
                        </mat-form-field>
                      </p>
                    </div>
                  </div>
                </div>

              </div>
            </mat-card>
          </div>
        </section>

        <section class="job-nav" *ngIf="!auditorBlock || interCompanyStatus">
          <div class="section">
            <mat-card>
              <div class="row form_head">
                <h3>Auditor Qualification</h3>
              </div>
              <div class="row">
                <div class="container col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                  <br>
                  <div class="radio">
                    <input id="radio-1" name="radio1" type="radio" checked="{{prods}}">
                    <label for="radio-1" class="radio-label">Product:{{singleLeadData?.product_request}}</label>
                  </div>
                  <br>

                  <div class="radio">
                    <input id="radio-2" name="radio2" type="radio" checked="{{ea_codes}}">
                    <label for="radio-2" class="radio-label">EA Code:{{singleLeadData?.ea_code}}</label>
                  </div>
                  <br>
                  <div class="radio">
                    <input id="radio-3" name="radio3" type="radio" checked="{{accri}}">
                    <label for="radio-3" class="radio-label">Accredition
                      Logo:{{singleLeadData?.accredition_logo_details}}</label>
                  </div>
                </div>
                <div class="col-xxl-8 col-lg-8 col-md-8 col-sm-8 col-12">
                  <!-- <p style="margin-left: 200px;
                  margin-top: 44px;"
                  *ngIf="auditorlist.length==0">No Record Found</p>
                  <p style="margin-left: 200px;
                  margin-top: 44px;"
                  *ngIf="auditorlist.length>0">{{auditorlist.length}}</p> -->
                </div>

              </div>


            </mat-card>
          </div>
        </section>


        <section class="job-nav" *ngIf="!showaccredetion">
          <div class="section">
            <mat-card>
              <div class="row form_head">
                <h3>Additional Site Details</h3>
              </div>
              <div class="form_basic">
                <table class="table table-hover" >
                  <thead>
                    <tr>
                      <th scope="col">BR Number</th>
                      <th scope="col">State</th>
                      <th scope="col">City</th>
                      <th scope="col">Stage</th>
                      <th scope="col">No of Mandays</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let data of receivedMandays">
                      <td scope="col">{{data.mandays.br_number}}</td>
                      <td scope="col">{{data.mandays.state_name}}</td>
                      <td scope="col">{{data.mandays.city_name}}</td>
                      <td scope="col">{{data.mandays.stage}}</td>
                      <td scope="col">{{data.mandays.noOfMandays}}</td>
                    </tr>
                  </tbody>
                </table>
                <span  *ngFor="let item of singleLeadData?.billing_site_copy index as i">Billing Site:-
                {{ item}}
                  {{this.singleLeadData?.associated_company +" - " +this.singleLeadData?.customer_category
                  }}/{{item?.city_name }}/
                  {{item?.region_name}}/{{item?.first_name}}
                </span>
              </div>
            </mat-card>
          </div>
        </section>

        <section class="job-nav" *ngIf="!auditorBlock || interCompanyStatus">
          <div class="section">
            <mat-card *ngIf="side=='front'">
              <div class="row form_head">
                <h3>Auditor Booking</h3>
              </div>

              <form [formGroup]="auditorForm">
                <table class="table table-striped table-responsive ">
                  <thead>
                    <tr>
                      <th scope="col">BR Number/Location</th>
                      <!-- <th scope="col">Location</th> -->
                      <th scope="col">Audit Type</th>
                      <th scope="col">Auditor Name</th>
                      <th scope="col">Booked Date</th>
                      <th scope="col">Remove</th>
                    </tr>
                  </thead>
                  <tbody>
                    <ng-container formArrayName="auditorList" *ngFor="
                    let control of AU_1.auditorList['controls'];
                    let i=index
                  ">
                      <tr [formGroup]="control">
                        <td>
                          <mat-form-field appearance="outline">
                            <mat-label><b>BR Number</b></mat-label>
                            <mat-select formControlName="br_number" (selectionChange)="emptype($event,control)">
                              <mat-option [value]="auditor?.mandays?.br_number"
                                *ngFor="let auditor of receivedMandays">{{auditor?.mandays?.br_number}} 
                                /({{auditor?.mandays?.city_name}}) </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </td>
                        <td [hidden]="true">
                        <mat-form-field appearance="outline">
                          <mat-label><b>Location</b></mat-label>
                          <mat-select formControlName="location" (selectionChange)="emptypelocation($event)">
                            <mat-option [value]="location?.mandays?.city_name"
                              *ngFor="let location of receivedMandays">{{location?.mandays?.city_name}}</mat-option>
                          </mat-select>
                        </mat-form-field>
                      </td>
                        <td>
                          <mat-form-field appearance="outline">
                            <mat-label><b>Select Type</b></mat-label>
                            <mat-select formControlName="auditorType" (selectionChange)="emptypetype($event)">
                              <mat-option [value]="auditor.type"
                                *ngFor="let auditor of auditorTypess">{{auditor.type}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </td>
                        <td>
                          <mat-form-field appearance="outline">
                            <mat-label><b>Select Auditor</b></mat-label>
                            <mat-select formControlName="auditorName" (selectionChange)="auditorFun($event,i)">
                              <mat-option [value]="data.employee_id" *ngFor="let data of auditorlist">
                                {{data.auditor_name}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                          <!-- <mat-form-field appearance="outline">
                        <input matInput type="text" formControlName="asset_product_name" />
                      </mat-form-field> -->
                        </td>
                        <td>
                          <button mat-icon-button [matMenuTriggerFor]="appMenu" (click)="emp_id(control, i)">
                            <mat-icon>calendar_today</mat-icon>
                          </button>
                          <mat-menu #appMenu="matMenu" class="drop-calendar">
                            <div (click)="$event.stopPropagation()">
                              <mat-calendar formControlName="bookingDate" id="calendar" #calendar
                                (selectedChange)="select($event, calendar, control, i)" [dateClass]="isSelected">
                              </mat-calendar>
                            </div>
                          </mat-menu>
                        </td>
                        <td>
                          <i class="material-icons deleteBtn" (click)="deleteRow(i, control)">delete</i>
                        </td>
                      </tr>
                    </ng-container>
                  </tbody>

                </table>
                <div id="outer">
                  <div class="inner">
<button (click)="addrow()">+Add</button>
                  </div>
                  <div class="inner">
                    <button (click)="check()">Preview</button>
                  </div>
                </div>

                <!-- <div style="
                text-align: center;
   cursor: pointer;
   margin-left: 45%;
   margin-right: 45%;
   border-radius: 5px;
   background-color: rgb(219 14 150 / 52%);
   color: white;;
               " (click)="addrow()">
                  + Add
                </div>
                <button type="button" class="btn btn-info" (click)="check()">check</button> -->
              </form>
              <!-- auditor start -->
              <!-- auditor end -->

            </mat-card>
            <mat-card *ngIf="side=='back'">
              <div class="row form_head">
                <h3>Mandays for Auditor Booking</h3>
              </div>
              <div>
                <table class="table table-striped">
                  <thead>
                    <tr>
                      <th>Auditor Name</th>
                      <th>Auditor Type</th>
                      <th>Booking Date</th>
                      <th>BR Number</th>
                      <th>Location</th>
                      <th>Mandays</th>
                      <th>Booking Status</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let auditor of auditors; let i = index">
                      <td>{{ auditor.auditor_name }}</td>
                      <td>{{ auditor.auditor_type }}</td>
                      <td>{{ auditor.leadAuditor_bookedDate }}</td>
                      <td>{{ auditor.br_number }}</td>
                      <td>{{ auditor.location }}</td>
                      <td>
                        <input type="number" [(ngModel)]="auditor.mandays"
                          (change)="updateMandays(auditor, auditor.mandays)" [ngModelOptions]="{standalone: true}">
                      </td>
                      <td>{{  auditor.status ? 'TO_Request' : 'ACTIVE'  }}</td>
                    </tr>
                  </tbody>
                </table>
                <button type="button" class="btn btn-success" (click)="update(auditors)">updated</button>
              </div>
            </mat-card>
          </div>
        </section>
        <section class="job-nav" *ngIf="auditorBlock">
          <div class="section">
            <mat-card>
              <div class="row form_head">
                <h3>Document Verification</h3>
              </div>
              <div class="form_basic form_set">
                <div class="row">
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Travel Type</p>
                      <mat-form-field appearance="outline" readonly>
                        <!-- <mat-label>Candidate Name</mat-label> -->
                        <mat-select formControlName="travel_type">
                          <mat-option value="Domestic">Domestic</mat-option>
                          <mat-option value="International">International</mat-option>
                        </mat-select>
                        <mat-error *ngIf="
                            leadForm.controls['travel_type'].hasError(
                              'required'
                            )
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-8 col-lg-8 col-md-8 col-sm-8 col-12"></div>
                  <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                    <div class="form-group">
                      <p>Task Order Expenses Category</p>
                      <mat-form-field appearance="outline" readonly>
                        <!-- <mat-label>Candidate Name</mat-label> -->
                        <mat-select formControlName="task_order_category">
                          <mat-option value="Billable">Billable</mat-option>
                          <mat-option value="Non-Billable">Non-Billable</mat-option>
                        </mat-select>
                        <mat-error *ngIf="
                            leadForm.controls['task_order_category'].hasError(
                              'required'
                            )
                          ">
                          This is an required field!
                        </mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="col-xxl-8 col-lg-8 col-md-8 col-sm-8 col-12"></div>
                </div>
              </div>
            </mat-card>
          </div>
        </section>
        <div class="upload-btn">
          <button class="cancel-btn" *ngIf="!auditorBlock" (click)="auditClick()">
            View Calendar
          </button>
          <button *ngIf="leadUpdate==='save' && !auditorBlock" class="iploadBtn" (click)="userData_notification($event)"
            (click)="submitForm()">
            Save
          </button>
          <button *ngIf="leadUpdate==='updatesave' && !auditorBlock" class="iploadBtn" (click)="updateForm()">
            Update Save
          </button>
          <button class="iploadBtn" *ngIf="auditorBlock" (click)="submitForm()">
            Rise To
          </button>
          <button class="iploadBtn" *ngIf="auditorBlock" (click)="reject()">
            Reject
          </button>
        </div>
      </form>
    </div>
  </div>
  <div class="row" *ngIf="auditOpen">
    <div class="col-md-6">
      <div class="form_audit" style="padding: 0 0 0 14px">
        <div class="form_head">
          <h3>Lead Auditor:{{viewCalenderData[0]?.lead_auditor_name + "/" + viewCalenderData[0]?.site_location}}</h3>
        </div>
        <div class="form_basic" style="padding: 0 12px">
          <div class="row">
            <table class="table">
              <thead>
                <tr>
                  <th>Day</th>
                  <th>Date</th>
                  <th>Block/Release</th>
                  <th>Duration</th>
                  <th>Standard Name</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of this.viewCalenderData">
                  <td>{{item.day}}</td>
                  <td>{{item.date | date}}</td>
                  <td><select>
                      <option value="Block">Block </option>
                      <option value="Release">Release</option>
                    </select></td>
                  <td>1</td>
                  <td>QM15</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="form_audit" style="padding: 0 14px 0 0">
        <div class="form_head">
          <h3>Co- Auditor:{{coName[0] + "/" + viewCalenderData[0]?.site_location}}</h3>
        </div>
        <div class="form_basic" style="padding: 0 12px">
          <div class="row">
            <table class="table">
              <thead>
                <tr>
                  <th>Day</th>
                  <th>Date</th>
                  <th>Block/Release</th>
                  <th>Duration</th>
                  <th>Standard Name</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of viewCalenderData">
                  <td>{{item.day}}</td>
                  <td>{{item.date|date}}</td>
                  <td><select>
                      <option value="Block">Block</option>
                      <option value="Release">Release</option>
                    </select></td>
                  <td>1</td>
                  <td>QM15</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</mat-card>